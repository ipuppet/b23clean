{
    "actions": [
        {
            "type": "@comment",
            "parameters": {
                "text": {
                    "value": "b23.tv trace parameter cleanup"
                }
            }
        },
        {
            "type": "@flow.javascript",
            "parameters": {
                "script": {
                    "value": "(()=>{$app.strings={en:{COPY:\"Copy\",COPIED:\"Copied\",\"b23clear.converting\":\"Converting...\",\"b23clear.noUrl\":\"No link detected\",\"b23clear.noBiliUrl\":\"bilibili link not detected\",\"b23clear.success\":\"Converted to BV video link\"},\"zh-Hans\":{COPY:\"复制\",COPIED:\"已复制\",\"b23clear.converting\":\"正在转换...\",\"b23clear.noUrl\":\"未检测到链接\",\"b23clear.noBiliUrl\":\"未检测到 bilibili 链接\",\"b23clear.success\":\"已转换为 BV 视频链接\"}},$app.theme=\"auto\",$app.minSDKVer=\"2.19.0\",$app.minOSVer=\"14.0.0\",$app.idleTimerDisabled=!1,$app.keyboardToolbarEnabled=!0,$app.rotateDisabled=!1;async function e(){const e=(($actions.inputValue??$clipboard.text??\"\").match(/(https?:\\/\\/)([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([:0-9])*([\\/\\w\\#\\.\\-\\?\\=\\&])*\\s?/gi)??[])[0];if(e)if(-1!==e.indexOf(\"bilibili.com\")&&-1!==e.indexOf(\"b23.tv\"))$ui.warning($l10n(\"b23clear.noBiliUrl\"));else{let i;if($ui.toast($l10n(\"b23clear.converting\")),e.indexOf(\"b23.tv\")){i=(await $http.get(e)).response.url}const l=i.substring(0,i.indexOf(\"?\")-1);$ui.alert({title:$l10n(\"b23clear.success\"),message:l,actions:[{title:$l10n(\"OK\")},{title:$l10n(\"COPY\"),handler:()=>{$clipboard.text=l,$ui.success($l10n(\"COPIED\"))}}]})}else $ui.warning($l10n(\"b23clear.noUrl\"))}({run:()=>{e().catch((e=>console.error(e)))}}).run()})();"
                }
            }
        }
    ],
    "buildVersion": 1,
    "clientMinVersion": 1,
    "summary": "",
    "icon": {
        "glyph": "heart.text.square",
        "color": "#FF6633"
    },
    "clientVersion": 592,
    "name": "b23clean"
}